<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title> Workspace </title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'q_answering/style.css' %}">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
</head>

<body>
    <div class="pagecontent">
        <!-- The website banner -->
        <div class="banner">
            <!-- Load in logo -->
            <img src="{% static 'q_answering/logo.png' %}"/>

            <!-- User menu is a hover dropdown, can contain profile settings
                 and similar options later on if necessary -->
            <nav class="dropdown" id="usermenu">
                <button class="dropbtn">User Opties</button>
                <div class ="dropdown-content">
                    <a href="#">Link1</a>
                    <a href="#">Link2</a>
                </div>
            </nav>
        </div>

        <div class="editspace">
            <div class="texteditor">
                <!-- The editor container which holds the quill editor -->
                <div id="editor"></div>
            </div>

            <div class="infoscreen">
                <!-- Tabbar contains the tabs that can be toggled to get to
                     the different info screens-->
                <div class="tabbar" >
                    <button class="tablinks"
                            onclick="tabToggle(event, 'articles')">
                            artikelen
                    </button>

                    <button class="tablinks"
                            onclick="tabToggle(event, 'oldQuestions')">
                            oude vragen
                    </button>

                    <button class="tablinks"
                            onclick="tabToggle(event, 'currentQuestion')">
                            huidige vraag
                    </button>

                    <button class="tablinks"
                            onclick="tabToggle(event, 'examplePDF')"
                            id="defaultOpen">
                            voorbeeld pdf
                    </button>
                </div>

                <!-- Infodisplay contains displayed content for each tab -->
                <div class="infodisplay">
                    <!-- Preview image of the generated PDF file -->
                    <div id="examplePDF" class="infocontent">
                        <iframe id=examplePDFiframe> </iframe>
                    </div>

                    <!-- Other tabs are currently not functional -->
                    <div id="currentQuestion" class="infocontent">
                        Huidige vraag
                    </div>

                    <div id="articles" class ="infocontent">
                        Artikel overzicht
                    </div>

                    <div id="oldQuestions" class="infocontent">
                        Oude vraag overzicht
                    </div>
                </div>
            </div>
        </div>

        <!-- Button for exiting a question question -->
        <div class="options" id="we-options">
            <button onclick="wePopup()">
                klaar voor nu
            </button>
        </div>
    </div>

    <!-- Popup modal for exiting a question -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <p>
                U keert nu terug naar het scherm,
                wat is de status van deze vraag?
            </p>

            <div class="options">
                <form action="{% url 'updateQuestion' %}"
                      method="post">
                      <!-- Token needed for security reasons-->
                      {% csrf_token %}

                    <input type="hidden" name="id" value="{{question_id}}">
                    <!-- Pass status value depending on what button
                         the user clicks -->
                    <button name="statusbtn"
                            value="IP"
                            type="submit">
                        in voortgang
                    </button>

                    <button name="statusbtn"
                            value="NV"
                            type="submit">
                        afgerond
                    </button>
                </form>

                <button onclick="closePopup()">
                    annuleer
                </button>
            </div>
        </div>
    </div>

    <!-- Javascript file that regulates the modal functionality -->
    <script src="{% static 'q_answering/modal.js' %}"></script>
    <!-- Javascript file that regulates the tabbar functionality -->
    <script src="{% static 'q_answering/tabbar.js' %}"></script>
    <script>
        document.getElementById("defaultOpen").click();
    </script>

    <!-- Include the Quill library -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <!-- Include the jsPDF library -->
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.min.js"></script>
    <!-- Include the html2canvas library
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.0.0-alpha.12/dist/html2canvas.min.js"></script>-->
    <!-- Initialize Quill editor-->
    <script src="{% static 'q_answering/texttopdf.js' %}"></script>

</body>
</html>
